{
  "version": 3,
  "sources": ["../../export-to-csv/build/export-to-csv.js", "../../export-to-csv/build/index.js"],
  "sourcesContent": ["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CsvConfigConsts = (function () {\r\n    function CsvConfigConsts() {\r\n    }\r\n    CsvConfigConsts.EOL = \"\\r\\n\";\r\n    CsvConfigConsts.BOM = \"\\ufeff\";\r\n    CsvConfigConsts.DEFAULT_FIELD_SEPARATOR = ',';\r\n    CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR = '.';\r\n    CsvConfigConsts.DEFAULT_QUOTE = '\"';\r\n    CsvConfigConsts.DEFAULT_SHOW_TITLE = false;\r\n    CsvConfigConsts.DEFAULT_TITLE = 'My Generated Report';\r\n    CsvConfigConsts.DEFAULT_FILENAME = 'generated';\r\n    CsvConfigConsts.DEFAULT_SHOW_LABELS = false;\r\n    CsvConfigConsts.DEFAULT_USE_TEXT_FILE = false;\r\n    CsvConfigConsts.DEFAULT_USE_BOM = true;\r\n    CsvConfigConsts.DEFAULT_HEADER = [];\r\n    CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS = false;\r\n    return CsvConfigConsts;\r\n}());\r\nexports.CsvConfigConsts = CsvConfigConsts;\r\nexports.ConfigDefaults = {\r\n    filename: CsvConfigConsts.DEFAULT_FILENAME,\r\n    fieldSeparator: CsvConfigConsts.DEFAULT_FIELD_SEPARATOR,\r\n    quoteStrings: CsvConfigConsts.DEFAULT_QUOTE,\r\n    decimalSeparator: CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR,\r\n    showLabels: CsvConfigConsts.DEFAULT_SHOW_LABELS,\r\n    showTitle: CsvConfigConsts.DEFAULT_SHOW_TITLE,\r\n    title: CsvConfigConsts.DEFAULT_TITLE,\r\n    useTextFile: CsvConfigConsts.DEFAULT_USE_TEXT_FILE,\r\n    useBom: CsvConfigConsts.DEFAULT_USE_BOM,\r\n    headers: CsvConfigConsts.DEFAULT_HEADER,\r\n    useKeysAsHeaders: CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS,\r\n};\r\nvar ExportToCsv = (function () {\r\n    function ExportToCsv(options) {\r\n        this._csv = \"\";\r\n        var config = options || {};\r\n        this._options = objectAssign({}, exports.ConfigDefaults, config);\r\n        if (this._options.useKeysAsHeaders\r\n            && this._options.headers\r\n            && this._options.headers.length > 0) {\r\n            console.warn('Option to use object keys as headers was set, but headers were still passed!');\r\n        }\r\n    }\r\n    Object.defineProperty(ExportToCsv.prototype, \"options\", {\r\n        get: function () {\r\n            return this._options;\r\n        },\r\n        set: function (options) {\r\n            this._options = objectAssign({}, exports.ConfigDefaults, options);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Generate and Download Csv\r\n     */\r\n    ExportToCsv.prototype.generateCsv = function (jsonData, shouldReturnCsv) {\r\n        if (shouldReturnCsv === void 0) { shouldReturnCsv = false; }\r\n        // Make sure to reset csv data on each run\r\n        this._csv = '';\r\n        this._parseData(jsonData);\r\n        if (this._options.useBom) {\r\n            this._csv += CsvConfigConsts.BOM;\r\n        }\r\n        if (this._options.showTitle) {\r\n            this._csv += this._options.title + '\\r\\n\\n';\r\n        }\r\n        this._getHeaders();\r\n        this._getBody();\r\n        if (this._csv == '') {\r\n            console.log(\"Invalid data\");\r\n            return;\r\n        }\r\n        // When the consumer asks for the data, exit the function\r\n        // by returning the CSV data built at this point\r\n        if (shouldReturnCsv) {\r\n            return this._csv;\r\n        }\r\n        // Create CSV blob to download if requesting in the browser and the\r\n        // consumer doesn't set the shouldReturnCsv param\r\n        var FileType = this._options.useTextFile ? 'plain' : 'csv';\r\n        var fileExtension = this._options.useTextFile ? '.txt' : '.csv';\r\n        var blob = new Blob([this._csv], { \"type\": \"text/\" + FileType + \";charset=utf8;\" });\r\n        if (navigator.msSaveBlob) {\r\n            var filename = this._options.filename.replace(/ /g, \"_\") + fileExtension;\r\n            navigator.msSaveBlob(blob, filename);\r\n        }\r\n        else {\r\n            var attachmentType = this._options.useTextFile ? 'text' : 'csv';\r\n            var uri = 'data:attachment/' + attachmentType + ';charset=utf-8,' + encodeURI(this._csv);\r\n            var link = document.createElement(\"a\");\r\n            link.href = URL.createObjectURL(blob);\r\n            link.setAttribute('visibility', 'hidden');\r\n            link.download = this._options.filename.replace(/ /g, \"_\") + fileExtension;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n        }\r\n    };\r\n    /**\r\n     * Create Headers\r\n     */\r\n    ExportToCsv.prototype._getHeaders = function () {\r\n        if (!this._options.showLabels && !this._options.useKeysAsHeaders) {\r\n            return;\r\n        }\r\n        var useKeysAsHeaders = this._options.useKeysAsHeaders;\r\n        var headers = useKeysAsHeaders ? Object.keys(this._data[0]) : this._options.headers;\r\n        if (headers.length > 0) {\r\n            var row = \"\";\r\n            for (var keyPos = 0; keyPos < headers.length; keyPos++) {\r\n                row += headers[keyPos] + this._options.fieldSeparator;\r\n            }\r\n            row = row.slice(0, -1);\r\n            this._csv += row + CsvConfigConsts.EOL;\r\n        }\r\n    };\r\n    /**\r\n     * Create Body\r\n     */\r\n    ExportToCsv.prototype._getBody = function () {\r\n        var keys = Object.keys(this._data[0]);\r\n        for (var i = 0; i < this._data.length; i++) {\r\n            var row = \"\";\r\n            for (var keyPos = 0; keyPos < keys.length; keyPos++) {\r\n                var key = keys[keyPos];\r\n                row += this._formatData(this._data[i][key]) + this._options.fieldSeparator;\r\n            }\r\n            row = row.slice(0, -1);\r\n            this._csv += row + CsvConfigConsts.EOL;\r\n        }\r\n    };\r\n    /**\r\n     * Format Data\r\n     * @param {any} data\r\n     */\r\n    ExportToCsv.prototype._formatData = function (data) {\r\n        if (this._options.decimalSeparator === 'locale' && this._isFloat(data)) {\r\n            return data.toLocaleString();\r\n        }\r\n        if (this._options.decimalSeparator !== '.' && this._isFloat(data)) {\r\n            return data.toString().replace('.', this._options.decimalSeparator);\r\n        }\r\n        if (typeof data === 'string') {\r\n            data = data.replace(/\"/g, '\"\"');\r\n            if (this._options.quoteStrings || data.indexOf(',') > -1 || data.indexOf('\\n') > -1 || data.indexOf('\\r') > -1) {\r\n                data = this._options.quoteStrings + data + this._options.quoteStrings;\r\n            }\r\n            return data;\r\n        }\r\n        if (typeof data === 'boolean') {\r\n            return data ? 'TRUE' : 'FALSE';\r\n        }\r\n        return data;\r\n    };\r\n    /**\r\n     * Check if is Float\r\n     * @param {any} input\r\n     */\r\n    ExportToCsv.prototype._isFloat = function (input) {\r\n        return +input === input && (!isFinite(input) || Boolean(input % 1));\r\n    };\r\n    /**\r\n     * Parse the collection given to it\r\n     *\r\n     * @private\r\n     * @param {*} jsonData\r\n     * @returns {any[]}\r\n     * @memberof ExportToCsv\r\n     */\r\n    ExportToCsv.prototype._parseData = function (jsonData) {\r\n        this._data = typeof jsonData != 'object' ? JSON.parse(jsonData) : jsonData;\r\n        return this._data;\r\n    };\r\n    return ExportToCsv;\r\n}());\r\nexports.ExportToCsv = ExportToCsv;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\r\n/**\r\n * Convet to Object\r\n * @param {any} val\r\n */\r\nfunction toObject(val) {\r\n    if (val === null || val === undefined) {\r\n        throw new TypeError('Object.assign cannot be called with null or undefined');\r\n    }\r\n    return Object(val);\r\n}\r\n/**\r\n * Assign data  to new Object\r\n * @param {any}   target\r\n * @param {any[]} ...source\r\n */\r\nfunction objectAssign(target) {\r\n    var source = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        source[_i - 1] = arguments[_i];\r\n    }\r\n    var from;\r\n    var to = toObject(target);\r\n    var symbols;\r\n    for (var s = 1; s < arguments.length; s++) {\r\n        from = Object(arguments[s]);\r\n        for (var key in from) {\r\n            if (hasOwnProperty.call(from, key)) {\r\n                to[key] = from[key];\r\n            }\r\n        }\r\n        if (Object.getOwnPropertySymbols) {\r\n            symbols = Object.getOwnPropertySymbols(from);\r\n            for (var i = 0; i < symbols.length; i++) {\r\n                if (propIsEnumerable.call(from, symbols[i])) {\r\n                    to[symbols[i]] = from[symbols[i]];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return to;\r\n}\r\n//# sourceMappingURL=export-to-csv.js.map", "\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./export-to-csv\"));\r\n//# sourceMappingURL=index.js.map"],
  "mappings": "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",
  "names": ["CsvConfigConsts", "ExportToCsv"]
}
